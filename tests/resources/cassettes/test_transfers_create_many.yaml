interactions:
- request:
    body: '{"recipient_name": "Rogelio Lopez", "account_number": "646180157034181180",
      "amount": 10000, "descriptor": "Mi primer transferencia", "idempotency_key":
      "35b241e25814445faf25c9cbcfc388a6"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - DUMMY
      Connection:
      - keep-alive
      Content-Length:
      - '188'
      Content-Type:
      - application/json
      User-Agent:
      - cuenca-python/0.6.4
      X-Cuenca-Api-Version:
      - '2020-03-19'
      X-Cuenca-LoginToken:
      - LTWewyQrKfRP-374RwKNkFXA
    method: POST
    uri: https://sandbox.cuenca.com/transfers
  response:
    body:
      string: '{"id":"TRTtT-P6ZGRq-XOnSAwSnfQQ","created_at":"2021-03-03T18:53:49.680772","updated_at":"2021-03-03T18:53:50.108897","account_number":"646180157034181180","recipient_name":"Rogelio
        Lopez","amount":10000,"descriptor":"Mi primer transferencia","idempotency_key":"35b241e25814445faf25c9cbcfc388a6","status":"submitted","network":"internal","destination_uri":"/accounts/ACQVx7_Bw8TR2VBccVnfxwgA","tracking_key":null,"user_id":"US4PCNV8rLB2wqBfORzIAXUl","reference_number":null}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '473'
      Content-Type:
      - application/json
      Date:
      - Wed, 03 Mar 2021 18:53:50 GMT
      X-Amzn-Trace-Id:
      - Root=1-603fdb3d-433862a606f4c6761c71b891;Sampled=0
      X-Request-Time:
      - 'value: 0.711'
      x-amz-apigw-id:
      - bn8xnGShiYcFqKw=
      x-amzn-Remapped-Connection:
      - keep-alive
      x-amzn-Remapped-Content-Length:
      - '473'
      x-amzn-Remapped-Date:
      - Wed, 03 Mar 2021 18:53:50 GMT
      x-amzn-Remapped-Server:
      - nginx/1.18.0
      x-amzn-Remapped-x-amzn-RequestId:
      - ebbb7bd7-fefc-4e24-8b67-3dba3f5adac0
      x-amzn-RequestId:
      - 19c1a6a0-e6d1-426c-9908-17dccbabf26f
    status:
      code: 201
      message: Created
- request:
    body: '{"recipient_name": "Rogelio Lopez", "account_number": "646180157034181180",
      "amount": 10001, "descriptor": "Mi segundo transferencia", "idempotency_key":
      "dc15fc432a734724ab1e5884a4a24a2c"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - DUMMY
      Connection:
      - keep-alive
      Content-Length:
      - '189'
      Content-Type:
      - application/json
      User-Agent:
      - cuenca-python/0.6.4
      X-Cuenca-Api-Version:
      - '2020-03-19'
      X-Cuenca-LoginToken:
      - LTWewyQrKfRP-374RwKNkFXA
    method: POST
    uri: https://sandbox.cuenca.com/transfers
  response:
    body:
      string: '{"id":"TRaZmNcFSfR-u0ur2ahAE-Ig","created_at":"2021-03-03T18:53:50.548741","updated_at":"2021-03-03T18:53:50.869113","account_number":"646180157034181180","recipient_name":"Rogelio
        Lopez","amount":10001,"descriptor":"Mi segundo transferencia","idempotency_key":"dc15fc432a734724ab1e5884a4a24a2c","status":"submitted","network":"internal","destination_uri":"/accounts/ACQVx7_Bw8TR2VBccVnfxwgA","tracking_key":null,"user_id":"US4PCNV8rLB2wqBfORzIAXUl","reference_number":null}'
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '474'
      Content-Type:
      - application/json
      Date:
      - Wed, 03 Mar 2021 18:53:50 GMT
      X-Amzn-Trace-Id:
      - Root=1-603fdb3e-1bef0f0a26ed074a3b51181d;Sampled=0
      X-Request-Time:
      - 'value: 0.642'
      x-amz-apigw-id:
      - bn8xvFwsiYcFzNw=
      x-amzn-Remapped-Connection:
      - keep-alive
      x-amzn-Remapped-Content-Length:
      - '474'
      x-amzn-Remapped-Date:
      - Wed, 03 Mar 2021 18:53:50 GMT
      x-amzn-Remapped-Server:
      - nginx/1.18.0
      x-amzn-Remapped-x-amzn-RequestId:
      - 79282ede-c02d-4743-96da-eec2d77d57c0
      x-amzn-RequestId:
      - 9f104bb7-4436-4327-8ea8-dde5ed428527
    status:
      code: 201
      message: Created
- request:
    body: '{"recipient_name": "Rogelio Lopez", "account_number": "4050000000000001",
      "amount": 10002, "descriptor": "Mi transferencia invalida", "idempotency_key":
      "4a92e77054ba4e369a134e400f7c313e"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Authorization:
      - DUMMY
      Connection:
      - keep-alive
      Content-Length:
      - '188'
      Content-Type:
      - application/json
      User-Agent:
      - cuenca-python/0.6.4
      X-Cuenca-Api-Version:
      - '2020-03-19'
      X-Cuenca-LoginToken:
      - LTWewyQrKfRP-374RwKNkFXA
    method: POST
    uri: https://sandbox.cuenca.com/transfers
  response:
    body:
      string: "[\n  {\n    \"loc\": [\n      \"account_number\"\n    ],\n    \"msg\"\
        : \"ensure this value has at least 18 characters\",\n    \"type\": \"value_error.any_str.min_length\"\
        ,\n    \"ctx\": {\n      \"limit_value\": 18\n    }\n  },\n  {\n    \"loc\"\
        : [\n      \"account_number\"\n    ],\n    \"msg\": \"The card number contains\
        \ a BIN (first six digits) that does not havea known association with a Mexican\
        \ bank. To add the association,please file an issue:https://github.com/cuenca-mx/cuenca-validations/issues\"\
        ,\n    \"type\": \"value_error.payment_card_number.bin\"\n  }\n]"
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '526'
      Content-Type:
      - application/json
      Date:
      - Wed, 03 Mar 2021 18:53:51 GMT
      X-Amzn-Trace-Id:
      - Root=1-603fdb3f-09cb73ce2170251f44de72ae;Sampled=0
      x-amz-apigw-id:
      - bn8x3GxBiYcFx_A=
      x-amzn-Remapped-Connection:
      - keep-alive
      x-amzn-Remapped-Content-Length:
      - '526'
      x-amzn-Remapped-Date:
      - Wed, 03 Mar 2021 18:53:51 GMT
      x-amzn-Remapped-Server:
      - nginx/1.18.0
      x-amzn-Remapped-x-amzn-RequestId:
      - 37dd38db-f0de-4359-b998-2e73566c78eb
      x-amzn-RequestId:
      - 31769d83-2c89-4ad0-8425-6ef189d8a4e1
    status:
      code: 400
      message: Bad Request
version: 1
